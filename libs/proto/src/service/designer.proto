syntax = "proto3";
import "ast/pc.proto";
import "virt/html.proto";
import "virt/css.proto";

package service.designer;

service Designer {

  rpc OpenFile(FileRequest) returns (stream FileResponse);
  rpc UpdateFile(FileRequest) returns (Empty);

}

message Empty {

}

message FileRequest {
  string path = 1;
}

message FileResponse {

  // Raw data
  bytes raw_content = 1;

  oneof data {
    PaperclipData paperclip = 2;
  }
}

message PaperclipData {
  virt.css.Document css = 1;
  virt.html.Document html = 2;
}