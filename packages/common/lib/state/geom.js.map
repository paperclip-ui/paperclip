{"version":3,"file":"geom.js","sourceRoot":"","sources":["../../src/state/geom.ts"],"names":[],"mappings":"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"}